<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora DOM</title>

</head>

<body>
    <h1>Calculadora DOM</h1>

    <div>
        <label for="num1">Primeiro número</label>
        <input id="num1" type="number">
    </div>

    <div>
        <label for="oper">Operação</label>
        <select id="oper">
            <option>(Selecione)</option>
            <option>Soma (+)</option>
            <option>Subtração (-)</option>
            <option>Multiplicação (*)</option>
            <option>Divisão (/)</option>
        </select>
    </div>

    <div>
        <label for="num2">Segundo número</label>
        <input id="num2" type="number">
    </div>

    <div>
        <button id="calcular">Calcular</button>
    </div>

    <div id="resultado"></div>

    <script>
        // Ativa verificações adicionais de variáveis
        // Modo "chato" do JavaScript
        'use strict'

        //(1) capturar os elementos HTML
        const elNum1 = document.querySelector('#num1')
        const elOper = document.querySelector('#oper')
        const elNum2 = document.querySelector('#num2')
        const elCalcular = document.querySelector('#calcular')
        const elResultado = document.querySelector('#resultado')

        //Variáveis que conterão os valores a ser processados
        let num1, num2
        //(2) Declarar a unção de validação do formulário
        function validar() {
            num1 = Number(elNum1.value)
            num2 = parseFloat(elNum2.value)

            if (isNaN(num1)) {
                alert("Informe o primeiro número.")
                elNum1.focus()
                return false
            }

            if (elOper.selectedIndex === 0) {
                alert("Selecione uma opção válida!")
                elOper.focus()
                return false

            }

            if (isNaN(num2)) {
                alert("Informe o segundo número.")
                elNum2.focus()
                return false
            }
            return true
        }

        //(3)Declarar a função que faz o cálculo, de acordo com
        // a operação escolhida pelo usuário. Dentro desta função,
        //deve ser chamada a função


        function calcular() {
            if (validar()) {
                let resultado
                switch (elOper.selectedIndex) {
                    case 1: // soma
                        resultado = `O resultado de ${num1} + ${num2} = ${num1 + num2}`
                        break
                    case 2: // subtração
                        resultado = `O resultado de ${num1} - ${num2} = ${num1 - num2}`
                        break
                    case 3: // Multiplicação
                        resultado = `O resultado de ${num1} * ${num2} = ${num1 * num2}`
                        break
                    default: // subtração
                        resultado = `O resultado de ${num1} / ${num2} = ${num1 / num2}`
                }
                //Exibe o resultado na div resultado
                elResultado.textContent = resultado
            }
        }

        //(4) Associar a função que fa o cálculo ao evento
        //"click" do botão
        elCalcular.addEventListener("click", calcular)
        </script>
</body>
</html>
